- c2rust
  - generate compile_commands.json with `mach build-backend -b CompileDB`
  - clip compile_commands.json to just libmar entries
  - copy libmar sources to outside of m-c
  - auto translate code into rust with c2rust
  - use nightly toolchain to build
  - refactor refactor refactor
  - give up on refactoring this way, it's kind of too much of a mess
- manual conversion
  - figure out how to integrate a rust library into the firefox source
    - update base cargo.toml & cargo.lock, libmar's mozbuild
  - generate call graph for libmar and martool
  - select points in graph to easily start conversion
  - find out there are no good points to start and mach makes this process feel a bit weird
  - decide to pull in autogenerated functions bit by bit to try and make sense of it
- combined approach

sign
  mar_sign.c            ->      mar_sign.rs
  nss_secutil.c/h       ->      nss_secutil.rs

src
  mar_cmdline.h         ->      --------------
  mar_create.c          ->      mar_create.rs
  mar_extract.c         ->      mar_extract.rs
  mar_private.h         ->      mar_private.rs
  mar_read.c            ->      mar_read.rs
  mar.h                 ->      lib.rs

tool
  mar.c                 ->      mar.rs

verify
  cryptox.c/h           ->      cryptox.rust
  MacVerifyCrypto.cpp   ->      mac_verify_crypto.rs
  mar_verify.c          ->      mar_verify.rs
